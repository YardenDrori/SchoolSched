@if (isSchoolActive()) {
  @if (currentPeriod(); as period) {
    <div class="timer">
      <div class="current-period">
        <span class="period-label">{{ period.timeSlot.label }}</span>
        <span class="period-time">{{ period.timeSlot.start }} - {{ period.timeSlot.end }}</span>
      </div>

      @if (period.timeSlot.isBreak) {
        <div class="next-break">
          <span class="break-label">סיום ההפסקה בעוד</span>
          <span class="break-time">{{ formatTime(period.minutesUntilEnd) }}</span>
        </div>
      } @else if (period.nextBreak && period.minutesUntilBreak !== undefined) {
        <div class="next-break">
          <span class="break-label">הפסקה הבאה בעוד</span>
          <span class="break-time">{{ formatTime(period.minutesUntilBreak) }}</span>
        </div>
      }

      @if (minutesUntilDayEnd()) {
        <div class="day-end-countdown">
          <span class="countdown-label">סיום יום הלימודים בעוד</span>
          <span class="countdown-time">{{ formatTime(minutesUntilDayEnd()!) }}</span>
        </div>
      }
    </div>
  } @else {
    <div class="timer no-period">
      <span>אין שיעור כרגע</span>
    </div>
  }
}
